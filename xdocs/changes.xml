<?xml version="1.0"?>

<document>

<properties>
  <title>2.x Changes</title>
  <author email="jvanzyl@apache.org">Jason van Zyl</author>
  <author email="jmcnally@apache.org">John D. McNally</author>
  <author email="mpoeschl@marmot.at">Martin Poeschl</author>
  <author email="seade@backstagetech.com.au">Scott Eade</author>
</properties>

<body>

<!--
<section name="Turbine 2.2-b2">

<p>
Changes between Turbine 2.2-b1 and 2.2-b2.
</p>

<p>
</p>

<subsection name="Changes that could break older environments">
<p>
  <ul>
    <li>
    </li>
  </ul>
</p>
</subsection>


<subsection name="Other changes">
<p>
  <ul>
    <li>
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
    </li>
  </ul>
</p>
</subsection>
</section>
-->
<section name="Turbine 2.2.1 (not released)">

<p>
Changes between Turbine 2.2 and 2.2.1.
</p>

<p>
</p>

<subsection name="Changes that could break older environments">
<p>
  <ul>
    <li>
       TTWS38: BaseValueParser.getInteger(String name) now returns null if the
       key name is not found - the old behaviour was to return new Integer(0).
    </li>
  </ul>
</p>
</subsection>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      Added how-to for migrating from 2.1
    </li>
    <li>
        The DTD resolved for intake will now look for intake.dtd on the
        class path when the DTD in the XMl file is
        http://jakarta.apache.org/turbine/dtd/intake_2_2_1.dtd.  The application
        functions in the same way.  This was done to allow XML editors to use
        the correct version of the DTD.
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      Fixed null pointer exception during initialization of IntakeTool when there are
      no groups defined in intake.xml
    </li>
    <li>
      TRQD10: Extending Turbine User How-to for T2.2
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Turbine 2.2 (= 2.2-rc2)">
<p>
Changes between Turbine 2.2-rc1 and 2.2.
</p>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      TTWS1: TemplatePageAttributes enhancements
    </li>
    <li>
      TTWS5: Reference support for DynamicURI
    </li>
    <li>
      TTWS13: IntakeTool.getGroups() should be public
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Turbine 2.2-rc1">
<p>
Changes between Turbine 2.2-b2 and 2.2-rc1.
</p>

<subsection name="Other changes">
<p>
  <ul>
    <li>
      Enhancements to support Apache XML-RPC versions 1.2 alpha 1 and 2.
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      TRQD2: Update to intake-howto to mention remove()
    </li>
  </ul>
</p>
</subsection>
</section>

<section name="Turbine 2.2-b2">

<p>
Changes between Turbine 2.2-b1 and 2.2-b2.
</p>

<p>
<b>The coupled version of Torque has been removed from Turbine 2.2!</b> <br/>
Get a full list of changes at the
<a href="http://jakarta.apache.org/turbine/torque/changes">Torque-site</a>.
</p>

<subsection name="Changes that could break older environments">
<p>
  <ul>
    <li>
      the coupled version of torque has been removed.
    </li>
  </ul>
</p>
</subsection>


<subsection name="Other changes">
<p>
  <ul>
    <li>
      Maven is used as build system for Turbine 2.2
    </li>
    <li>
      removed antiquated redirect logic.
    </li>
    <li>
      You can use log4j properties directly.
    </li>
    <li>
      The configuration package has been moved from stratum to commons
    </li>
    <li>
      BaseValueParser.setProperty() changed from private to protected
    </li>
  </ul>
</p>
</subsection>

<subsection name="Fixed bugs">
<p>
  <ul>
    <li>
      Fixed IllegalStateException when removing an attribute from an invalid
      session (patch by David Vandegrift - dvandegrift@bluearc.com)
    </li>
    <li>
      Fixed NumberFormatException in UUIdGenerator.
    </li>
  </ul>
</p>
</subsection>
</section>


<section name="Turbine 2.2b1">

<p>
Changes between Turbine 2.1 and 2.2b1.
</p>

<p>
Torque and Fulcrum (the service framework) have been decoupled in preparation
for Turbine 3.0. The decoupled versions can be used with Turbine 2.2.
We strongly recommend to use the decoupled versions (some of the 'old' services
must be used, because they are used internally by Turbine)
</p>

<p>
If you wrote your own services you should also change them to be Fulcrum
services to make them work with Turbine 3.x
</p>

<subsection name="Changes that could break older environments">

<p>
  <ul>
    <li>
      The Service interface was extended to allow integration of Service
      implementations: <br/>
      <b>Service.getName()</b> <br/>
      since most Service implementations extend BaseService
      (which implements a public getName method), this should not be an issue.
    </li>
  </ul>
</p>

</subsection>


<subsection name="Other changes">

<p>
  <ul>
    <li>
      <b>ECS, Freemarker and Webmacro</b> services/modules are marked
      <b>deprecated</b>. You should use Velocity instead.
    </li>
    <li>
      <b>Castor</b> service is marked as <b>deprecated</b>. You should use
      om/peer classes instead!
    </li>
    <li>
      The XSLT Service is updated to use Xalan 2.0
    </li>
    <li>
      Improved datatype mappings for mysql, oracle, postgresql, sapdb
    </li>
    <li>
      adding support for DB2 on AS400 (patch by Sweaver@rippe.com).
    </li>
    <li>
      adding support for secure connections in the xmlrpc service.
    </li>
    <li>
      Added a configuration parameter to torque, addTimeStamp, that allows the
      user to generate files without a timestamp. Default is true, timestamps
      will be generated.
    </li>
    <li>
      Criteria.Criterion implements Serializable
    </li>
    <li>
      DB implements Serializable
    </li>
    <li>
      torque: id-methods <i>sequence</i> and <i>autoincrement</i> are
      <b>deprecated</b>. You should use <b>native</b>. torque uses the method
      provided by your database
    </li>
    <li>
      added static strings for ISNULL and ISNOTNULL to Criteria.
    </li>
    <li>
      added getDateString() method to format date fields to DB.
    </li>
    <li>
      added VelocityDirectLayout/Screen to make it possible to embed
      servlet/JSP outputs into a Velocity template used within Turbine.
      (patch by raphael.luta@networks.groupvu.com)
    </li>
    <li>
      added an easy to use localization pull tool.
    </li>
    <li>
      Javadocs improvements.
    </li>
    <li>
      Documentation improvements.
    </li>
  </ul>
</p>

</subsection>


<subsection name="Fixed bugs">

<p>
  <ul>

    <li>
      fixed error in Mssql unique.vm template (removed a blank line)
    </li>
    <li>
      [2301] Embedding message parts in HtmlEmail throws NullPointerException.
    </li>
    <li>
      bugfix for BigDecimal attributes with default value
    </li>
    <li>
      fixed handling of sequences for db2, oracle, postgresql, sapdb
    </li>
    <li>
      fixed syntax for create index (postgresql)
    </li>
    <li>
      fixed problem for postgres with blob style column in TurbineUser table.
      (patch by Jerome Veryleyen)
    </li>
    <li>
      BaseUnicastRemoteService.java: Corrected method name (setName -> getName).
    </li>
    <li>
      fixed Roleset.add(RoleSet) (patch by lujin@yahoo.com)
    </li>
    <li>
      fixed database - defaultIdMethod (torque)
    </li>
    <li>
      fixed date formating problem with Oracle.
    </li>
    <li>
      fixed problem when ignoreCase was used with ISNULL or ISNOTNULL.
    </li>
    <li>
      fixed Option object initialisation in SelectorBox
      (patch by Kurt Grafius kurtg@jvoom.com)
    </li>
  </ul>
</p>

</subsection>

</section>

</body>
</document>
