<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from xdocs/proposals\security-service.xml at 26 January 2024
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Apache Turbine &#x2013; Application Service Proposal</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.9.min.js"></script>
<link rel="icon" type="image/png" sizes="48x48" href="./images/favicon.ico"> 
      <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon.ico"> 
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/apache/turbine-core">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../" id="bannerLeft" title="Apache Turbine"><img src="../images/turbine-project-apache-separate.png"  alt="Apache Turbine"/></a></div>
          <div class="pull-right"><div id="bannerRight"><img src="../images/logo.gif"  alt=""/></div>
</div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 26 January 2024<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 6.0</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://turbine.apache.org/fulcrum/" class="externalLink" title="Fulcrum">Fulcrum</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://turbine.apache.org/" class="externalLink" title="Turbine">Turbine</a></li>
      <li class="pull-right"><a href="https://www.apache.org" class="externalLink" title="Apache">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">General Information</li>
    <li><a href="../index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="../features.html" title="Features"><span class="none"></span>Features</a></li>
    <li><a href="../fsd.html" title="Specification"><span class="none"></span>Specification</a></li>
    <li><a href="../getting-started.html" title="Getting Started"><span class="none"></span>Getting Started</a></li>
    <li><a href="../how-to-build.html" title="Howto Build Turbine"><span class="none"></span>Howto Build Turbine</a></li>
    <li><a href="../changes-report.html" title="Changes"><span class="none"></span>Changes</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../services/index.html" title="Services"><span class="icon-chevron-right"></span>Services</a></li>
    <li><a href="../howto/index.html" title="Howtos"><span class="icon-chevron-right"></span>Howtos</a></li>
    <li><a href="https://cwiki.apache.org/confluence/display/TURBINE" class="externalLink" title="Wiki"><span class="none"></span>Wiki</a></li>
    <li><a href="../apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
   <li class="nav-header">Development</li>
    <li><a href="../proposals.html" title="Proposals"><span class="none"></span>Proposals</a></li>
    <li><a href="../how-to-help.html" title="How To Help"><span class="none"></span>How To Help</a></li>
    <li><a href="../todo.html" title="Todo"><span class="none"></span>Todo</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Apache</li>
    <li><a href="https://www.apache.org/" class="externalLink" title="Apache Website"><span class="none"></span>Apache Website</a></li>
    <li><a href="https://www.apache.org/licenses/" class="externalLink" title="License"><span class="none"></span>License</a></li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works"><span class="none"></span>How the ASF works</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship"><span class="none"></span>Sponsorship</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
    <li><a href="https://www.apache.org/security/" class="externalLink" title="Security"><span class="none"></span>Security</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="http://turbine.apache.org/turbine-core" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script>asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


  

<section>
<h2><a name="Security_Service"></a>Security Service</h2>


<ul>
  
<li>
    UserManager should become a service in it's own right.
  </li>

  
<li>
    ACL mechanism should become pluggable. A new interface ACLBuilder must
    be defined, the interface would have single method of 'Object
    buildACL(User)' signature. UserManagerService would have a property that 
    would contain *service name* that implements ACLBuilder. buildACL will be an
    instance not class method, so a concrete instance of the service must be
    consulted.
  </li>

  
<li>
    User object will have method of 'Object getACL()' signature that will
    delegate to UserManagerService, which in turn delegates to the
    configured ACLBuilder. It's OK to cache the returned object, since 
    the ACLBuilder will keep references ACL objects internally, to reflect 
    the changes of sercurity information at runtime. (rafal)
  </li>

  
<li>
    TurbineSecurityService will be the default ACLBuilder shipped with the
    system.
  </li>

  
<li>
    TurbineSecurityService should have it's OM/Peer classes Torque
    generated.
  </li>

  
<li>
    Group should be could be renamed to 'Realm' or 'Domain'. This should 
    decrease the confusion about it's meaning.
  </li>

  
<li>
    Attributes of Roles/Groups/Permissions will be dropped. I don't think
    the idea catched on.
  </li>

  
<li>
    User attributes should be moved into a separate table, or even two
    tables if we want to store meta information for user attributes.
    This will require a customized Peer class for User objects, but 
    this will be easy with recent Torque's two-level class generation
  </li>

  
<li>
    On session unbind event, only acces counters/timestamps should be
    updated not the whole data. This should fix the overriding of
    admin's changes by the unbound session problems. The information 
    which attributes should be updated could be placed in user attribute
    meta-information table.
  </li>

  
<li>
    All references to peers have to be removed from the interfaces.
    Anything peer specific must be pushed down into DBSecurityService.
  </li>
  
  
<li>
    Allow multiple security service implementations to be run in
    tandem. This would allow a portion of a site to be controlled
    by an LDAP security service and another portion to be controlled
    by DB security services. More info about this is explained in
    the Policy Service proposal.
  </li>
  
  
<li>
    All the security code has to be grouped together. Right now it's
    all over the place and rather confusing. The util code should be
    moved into the security services package, and the om/peer code
    for the DBSecurityService should be move into the package with
    the rest of the DBSecurityService code. Here's what I would
    propose for the new layout. This would require the deprecation
    of the location of a lot of the classes but I think it would
    help a lot with the ease of understanding.
  </li>
</ul>


<div class="source"><pre class="prettyprint">
.
|-- BaseSecurityService.java
|-- SecurityService.java
|-- TurbineSecurity.java
|-- UserManager.java
|-- entity
|   |-- Group.java
|   |-- Permission.java
|   |-- Role.java
|   |-- SecurityEntity.java
|   `-- User.java
|-- impl
|   |-- db
|   |   |-- DBSecurityService.java
|   |   |-- DBUserManager.java
|   |   `-- entity
|   |       |-- GroupPeer.java
|   |       |-- PermissionPeer.java
|   |       |-- RolePeer.java
|   |       |-- RolePermissionPeer.java
|   |       |-- SecurityObject.java
|   |       |-- TurbineGroup.java
|   |       |-- TurbinePermission.java
|   |       |-- TurbineRole.java
|   |       |-- TurbineUser.java
|   |       |-- TurbineUserPeer.java
|   |       |-- UserGroupRolePeer.java
|   |       `-- UserPeer.java
|   |-- ldap
|   |   |-- LDAPSecurityConstants.java
|   |   |-- LDAPSecurityService.java
|   |   |-- LDAPUser.java
|   |   |-- LDAPUserManager.java
|   |   `-- util
|   |       `-- ParseExceptionMessage.java
|   `-- passive
|       `-- PassiveUserManager.java
`-- util
    |-- AccessControlException.java
    |-- AccessControlList.java
    |-- DataBackendException.java
    |-- EntityExistsException.java
    |-- GroupSet.java
    |-- PasswordMismatchException.java
    |-- PermissionSet.java
    |-- RoleSet.java
    |-- TurbineSecurityException.java
    `-- UnknownEntityException.java

</pre></div>

</section>



        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2000&#x2013;2024
<a href="https://www.apache.org/">The Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
