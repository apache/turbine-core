<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 21 December 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Apache Turbine - 
    Turbine Core Schema</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20151221" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../../" id="bannerLeft" title="Apache Turbine">
                                                <img src="images/turbine-project.png" alt="Apache Turbine" />
                </a>
                          <div id="bannerRight">
                                                <img src="images/logo.gif" alt="Apache Turbine" />
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 21 December 2015</span>
                  &nbsp;| <span id="projectVersion">Version: 4.0-M2</span>
                      </div>
            <div class="xright">                    <a href="http://www.apache.org" class="externalLink" title="Apache">Apache</a>
            |
                        <a href="../../" title="Turbine">Turbine</a>
            |
                        <a href="../../fulcrum/" title="Fulcrum">Fulcrum</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>General Information</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="features.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="fsd.html" title="Specification">Specification</a>
            </li>
                  <li class="none">
                          <a href="getting-started.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="how-to-build.html" title="Howto Build Turbine">Howto Build Turbine</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Changes">Changes</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <li class="collapsed">
                          <a href="services/index.html" title="Services">Services</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                      <li class="collapsed">
                          <a href="howto/index.html" title="Howtos">Howtos</a>
                  </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/turbine/FrontPage" class="externalLink" title="Wiki">Wiki</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
                          <a href="proposals.html" title="Proposals">Proposals</a>
            </li>
                  <li class="none">
                          <a href="how-to-help.html" title="How To Help">How To Help</a>
            </li>
                  <li class="none">
                          <a href="todo.html" title="Todo">Todo</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Apache</h5>
                  <ul>
                  <li class="none">
                          <a href="http://www.apache.org/" class="externalLink" title="Apache Website">Apache Website</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/licenses/" class="externalLink" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">How the ASF works</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/security/" class="externalLink" title="Security">Security</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License. -->



<div class="section">
<h2>Turbine Schema<a name="Turbine_Schema"></a></h2>

<p>
The naming scheme is that the Turbine specific tables are prefixed with
&quot;TURBINE_&quot;. This is to avoid name collisions with applications for common tables
such as PERMISSION or ROLE and also to avoid name collisions with reserved
keywords in differant databases.
</p>


<p>
</p>
<ul>
    
<li>TURBINE_PERMISSION</li>
    
<li>TURBINE_ROLE</li>
    
<li>TURBINE_GROUP</li>
    
<li>TURBINE_ROLE_PERMISSION</li>
    
<li>TURBINE_USER</li>
    
<li>TURBINE_USER_GROUP_ROLE</li>
    
<li>TURBINE_SCHEDULED_JOB</li>
    
<li>ID_TABLE</li>
</ul>

</div>


<div class="section">
<h2>Relationships<a name="Relationships"></a></h2>

<div class="source">
<pre>
TURBINE_USER  -|------o-&lt; TURBINE_USER_GROUP_ROLE
TURBINE_ROLE  -|------o-&lt; TURBINE_USER_GROUP_ROLE
TURBINE_GROUP -|------o-&lt; TURBINE_USER_GROUP_ROLE
TURBINE_ROLE  -|------o-&lt; TURBINE_ROLE_PERMISSION
TURBINE_PERMISSION -|------o-&lt; TURBINE_ROLE_PERMISSION
</pre></div>
</div>


<div class="section">
<h2>Table Schemas<a name="Table_Schemas"></a></h2>

<p>
The data-types represented below are for the MySQL database.
For other database specific data-types check the .sql scripts in
the src/sql directory of the Turbine distribution.
</p>


<div class="section">
<h3>ID_TABLE<a name="ID_TABLE"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>Column Name</th>
    
<th>Key</th>
    
<th>Data Type</th>
    
<th>Default Value</th>
    
<th>Null</th>
    
<th>Indexed</th>
    
<th>Comment</th>
</tr>

<tr class="b">
    
<td>ID_TABLE_ID</td>
    
<td>Primary</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td>Yes</td>
    
<td>AUTOINCREMENT</td>
</tr>

<tr class="a">
    
<td>TABLE_NAME</td>
    
<td>Unique</td>
    
<td>VARCHAR(255)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>UNIQUE</td>
</tr>

<tr class="b">
    
<td>NEXT_ID</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td></td>
    
<td>NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>QUANTITY</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td></td>
    
<td>NULL</td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The ID_TABLE carries the information for the next ID
number in the specified tables. This table is useful when
the database being used has no data-type which carries out
auto-increment operations.
</p>
</div>


<div class="section">
<h3>TURBINE_PERMISSION<a name="TURBINE_PERMISSION"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>PERMISSION_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td>AUTOINCREMENT</td>
</tr>

<tr class="a">
    
<td>PERMISSION_NAME</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>UNIQUE</td>
</tr>

<tr class="b">
    
<td>OBJECTDATA</td>
    
<td></td>
    
<td>MEDIUMBLOB</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_PERMISSION table stores the lowest level of permissions allowed
for a Turbine User.
</p>
</div>


<div class="section">
<h3>TURBINE_ROLE<a name="TURBINE_ROLE"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>ROLE_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td>AUTO_INCREMENT</td>
</tr>

<tr class="a">
    
<td>ROLE_NAME</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>UNIQUE</td>
</tr>

<tr class="b">
    
<td>OBJECTDATA</td>
    
<td></td>
    
<td>MEDIUMBLOB</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_ROLE table links a Turbine User to a span of permissions.
Potentially a Turbine User can have many roles within the system. In this case
a role represents a descriptive word for a series of permissions or actions the
Turbine User is able to undertake.
</p>
</div>


<div class="section">
<h3>TURBINE_GROUP<a name="TURBINE_GROUP"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>GROUP_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td>AUTOINCREMENT</td>
</tr>

<tr class="a">
    
<td>GROUP_NAME</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>UNIQUE</td>
</tr>

<tr class="b">
    
<td>OBJECTDATA</td>
    
<td></td>
    
<td>MEDIUMBLOB</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_GROUP table allows for a series of roles and Turbine Users to be
connected under a Group ID and hence Group Name. For instance there may be a
group named Administrators with the necessary roles and permissions. There may
also be many Administrators on the system. The Group table and it's relationship
with the TURBINE_USER_GROUP_ROLE table maps this functionality.
</p>
</div>


<div class="section">
<h3>TURBINE_ROLE_PERMISSION<a name="TURBINE_ROLE_PERMISSION"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>ROLE_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td>Yes</td>
    
<td></td>
</tr>

<tr class="a">
    
<td>PERMISSION_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td>Yes</td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_ROLE_PERMISSION table is a bridging table between TURBINE_ROLE and
TURBINE_PERMISSION that allows a several differant roles to make use of the
same permission.
</p>
</div>


<div class="section">
<h3>TURBINE_USER<a name="TURBINE_USER"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>USER_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>LOGIN_NAME</td>
    
<td></td>
    
<td>VARCHAR(32)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>UNIQUE</td>
</tr>

<tr class="b">
    
<td>PASSWORD_VALUE</td>
    
<td></td>
    
<td>VARCHAR(32)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>FIRST_NAME</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>LAST_NAME</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>EMAIL</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>CONFIRM_VALUE</td>
    
<td></td>
    
<td>VARCHAR(32)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>MODIFIED</td>
    
<td></td>
    
<td>TIMESTAMP</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>CREATED</td>
    
<td></td>
    
<td>DATETIME</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>LAST_LOGIN</td>
    
<td></td>
    
<td>TIMESTAMP</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>OBJECTDATA</td>
    
<td></td>
    
<td>MEDIUMBLOB</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_USER table describes the basic information on the user in the
system.
</p>
</div>


<div class="section">
<h3>TURBINE_USER_GROUP_ROLE<a name="TURBINE_USER_GROUP_ROLE"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>USER_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>GROUP_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>ROLE_ID</td>
    
<td>PRIMARY</td>
    
<td>INTEGER</td>
    
<td></td>
    
<td></td>
    
<td></td>
    
<td></td>
</tr>
</table>

<p>
The TURBINE_USER_GROUP_ROLE describes what roles a given user has as a member of
a given group.
</p>
</div>


<div class="section">
<h3>TURBINE_SCHEDULED_JOB<a name="TURBINE_SCHEDULED_JOB"></a></h3>

<table border="0" class="bodyTable">

<tr class="a">
    
<th>column name</th>
    
<th>key</th>
    
<th>data type</th>
    
<th>default value</th>
    
<th>null</th>
    
<th>indexed</th>
    
<th>comment</th>
</tr>

<tr class="b">
    
<td>JOB_ID</td>
    
<td>PRIMARY</td>
    
<td>int(11)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td>AUTO_INCREMENT</td>
</tr>

<tr class="a">
    
<td>SECOND</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td>-1</td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>MINUTE</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td>-1</td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>HOUR</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td>-1</td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>WEEK_DAY</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td>-1</td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>DAY_OF_MONTH</td>
    
<td></td>
    
<td>INTEGER</td>
    
<td>-1</td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>TASK</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NOT NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="a">
    
<td>EMAIL</td>
    
<td></td>
    
<td>VARCHAR(99)</td>
    
<td></td>
    
<td>NULL</td>
    
<td></td>
    
<td></td>
</tr>

<tr class="b">
    
<td>PROPERTY</td>
    
<td></td>
    
<td>VARBINARY</td>
    
<td></td>
    
<td>NULL</td>
    
<td></td>
    
<td></td>
</tr>
</table>
</div>

</div>



      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2000-2015
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>