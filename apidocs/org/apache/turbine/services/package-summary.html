<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_17) on Fri Nov 21 09:07:15 CET 2008 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
org.apache.turbine.services (turbine-2 2.3.3 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.turbine.services package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="org.apache.turbine.services (turbine-2 2.3.3 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/turbine/om/security/peer/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/turbine/services/assemblerbroker/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.apache.turbine.services
</H2>
Contains the Service framework for Turbine.

<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/Initable.html" title="interface in org.apache.turbine.services">Initable</A></B></TD>
<TD>Classes that implement this interface need initialization before
 they can work.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/InitableBroker.html" title="interface in org.apache.turbine.services">InitableBroker</A></B></TD>
<TD>Classes that implement this interface can act as a broker for
 <code>Initable</code> classes.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/Service.html" title="interface in org.apache.turbine.services">Service</A></B></TD>
<TD><code>Services</code> are <code>Initables</code> that have a name,
 and a set of properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/ServiceBroker.html" title="interface in org.apache.turbine.services">ServiceBroker</A></B></TD>
<TD>Classes that implement this interface can act as a broker for
 <code>Service</code> classes.

 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/ServiceManager.html" title="interface in org.apache.turbine.services">ServiceManager</A></B></TD>
<TD>Classes that implement this interface can act as a manager for
 <code>Service</code> classes.

 </TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/BaseInitable.html" title="class in org.apache.turbine.services">BaseInitable</A></B></TD>
<TD>This class provides a generic implementation of
 <code>Initable</code>.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/BaseInitableBroker.html" title="class in org.apache.turbine.services">BaseInitableBroker</A></B></TD>
<TD>A generic implementation of <code>InitableBroker</code>.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/BaseService.html" title="class in org.apache.turbine.services">BaseService</A></B></TD>
<TD>This class is a generic implementation of <code>Service</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/BaseServiceBroker.html" title="class in org.apache.turbine.services">BaseServiceBroker</A></B></TD>
<TD>A generic implementation of a <code>ServiceBroker</code> which
 provides:

 
 Maintaining service name to class name mapping, allowing
 plugable service implementations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/BaseUnicastRemoteService.html" title="class in org.apache.turbine.services">BaseUnicastRemoteService</A></B></TD>
<TD>A base implementation of an <CODE>UnicastRemoteObject</CODE>
 as a Turbine <A HREF="../../../../org/apache/turbine/services/Service.html" title="interface in org.apache.turbine.services"><CODE>Service</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/TurbineBaseService.html" title="class in org.apache.turbine.services">TurbineBaseService</A></B></TD>
<TD>This class provides a <code>Service</code> implementation that
 Services used in Turbine are required to extend.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/TurbineServices.html" title="class in org.apache.turbine.services">TurbineServices</A></B></TD>
<TD>This is a singleton utility class that acts as a Services broker.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Exception Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/InitializationException.html" title="class in org.apache.turbine.services">InitializationException</A></B></TD>
<TD>Thrown by <code>Initable</code> class in case of initialization
 problems.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/turbine/services/InstantiationException.html" title="class in org.apache.turbine.services">InstantiationException</A></B></TD>
<TD>Thrown by <code>InitableBroker</code> and
 <code>ServiceBroker</code> classes to indicate problems with
 instatiation of requested objects.

 </TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.apache.turbine.services Description
</H2>

<P>
Contains the Service framework for Turbine.
<p>
Services are singletons that have pluggable implementation
and can participate in Turbine startup and shutdown.
<p>
<table><tr><td width="100%">

<h3>What is a service?</h3>
<ul>
<li> Is a singleton -  there is only one instance of it in the system
     i.e. memory or connections are allocated once only, and the internal
     state is common to all requesting clients.
<li> Has pluggable implementation - you can use your own implementation
     if you need, just change  an entry in TurbineResources.properties,
     and there you go.
<li> Can access ServletConfig at system startup time to process
     relative paths and the like.
<li> Can access RunData on the first Turbine doGet execution to
     get URL we're running under and the like.
<li> Can initialize itself (allocate memory, make connctions)
     just before the client requests it for the first time. Services that
     are never used by the application will not allocate resources.
<li> Can execute some action upon system shutdown e.g. close the
     opened connections.
</ul>
<h3>The life cycle of a Service</h3>
<p>
A Service (or any other Initable, if we had any) is not supposed
to do much in it's constructor. Especialy it should not allocate
any costly resources like large memory structures, DB or network
connections and the like. It may well happen that the Service
is sitting in the config file, but the application does not
need it, so allocating all resources at system startup might
be a loss.
<p>
Early initialization is similar to the constructor. It is used
to pass some information that the Service will need in it's
future operation.
UniqueId Service uses the HttpRequest object from the first Turbine
invocation to determine URL this instance is runnign under, to
generate instance ID.
Early initialization method should process the configuration, store
some values, but NOT allocate resources. There is still a chance
that the Service will not be used.
If the Service is ready to work (i.e. does not need any more objects
being sent to it), and does not to allocate any resources during
late initialization, the internal state can be changed so that
getInit() returns true.
<p>
Late initialization happens when the Service is requested by the
application for the first time. It should allocate any resources
needed and chnge the state so that getInit() returns true.
If getInit() returns false after init() is executed, the Service
has malfunctioned.
<p>
After late initialization, the Service is ready to perform actions
on behalf of the application.
<p>
When the Service is no longer needed (this usually happens when
system is shutting down), the shutdown() method is called.
shutdown() should deallocate all resources. If any error conditions
occur they are ignored.
<h3>Initialization of services outside of the Turbine servlet</h3>
<p>
In the case where specific Turbine services are desired outside the
context of the <code>Turbine</code> servlet, a Turbine JAR file can be
used in conjunction with a <i>properly configured</i>
<code>TurbineResources.properties</code> file to initialize a specific
set of services to use in your application.  The following sample
code performs such initialization:
<p>
<blockquote><code><pre>
String webAppRoot = "/var/httpd/webapps";
String trProps = "/var/httpd/TurbineResources.properties";
try
{
    TurbineConfig cfg = new TurbineConfig(webAppRoot, trProps);
    cfg.init();
}
catch (Exception e)
{
    // If Turine fails to initialize, no logging service will be available.
    String msg = "Failed to initialize Turbine: " + e.getMessage();
    // Write directly to stderr to preserve the full stack trace.
    System.err.println(msg);
    e.printStackTrace();
    throw new Error(msg);
}
</pre></code></blockquote>
</td></tr></table>
<br>
<font size="-2">$Id: package.html 534527 2007-05-02 16:10:59Z tv $</font>
<P>

<P>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/turbine/om/security/peer/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/turbine/services/assemblerbroker/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2000-2008 Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
