<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_17) on Fri Nov 21 09:07:24 CET 2008 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
VelocityHtmlEmail (turbine-2 2.3.3 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.turbine.util.velocity.VelocityHtmlEmail class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="VelocityHtmlEmail (turbine-2 2.3.3 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/VelocityHtmlEmail.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/turbine/util/velocity/VelocityEmail.html" title="class in org.apache.turbine.util.velocity"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VelocityHtmlEmail.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.apache.commons.mail.HtmlEmail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.turbine.util.velocity</FONT>
<BR>
Class VelocityHtmlEmail</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by">org.apache.commons.mail.Email
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by">org.apache.commons.mail.MultiPartEmail
          <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by">org.apache.commons.mail.HtmlEmail
              <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>org.apache.turbine.util.velocity.VelocityHtmlEmail</B>
</PRE>
<HR>
<DL>
<DT>public class <B>VelocityHtmlEmail</B><DT>extends org.apache.commons.mail.HtmlEmail</DL>

<P>
This is a simple class for sending html email from within Velocity.
 Essentially, the bodies (text and html) of the email are a Velocity
 Context objects.  The beauty of this is that you can send email
 from within your Velocity template or from your business logic in
 your Java code.  The body of the email is just a Velocity template
 so you can use all the template functionality of Velocity within
 your emails!

 <p>This class allows you to send HTML email with embedded content
 and/or with attachments.  You can access the VelocityHtmlEmail
 instance within your templates trough the <code>$mail</code>
 Velocity variable.
 <p><code>VelocityHtmlEmail   myEmail= new VelocityHtmlEmail(data);<br>
                              context.put("mail", myMail);</code>
 <b>or</b>
    <code>VelocityHtmlEmail   myEmail= new VelocityHtmlEmail(context);<br>
                              context.put("mail", myMail);</code>


 <p>The templates should be located under your Template turbine
 directory.

 <p>This class wraps the HtmlEmail class from commons-email.  Thus, it uses
 the JavaMail API and also depends on having the mail.server property
 set in the TurbineResources.properties file.  If you want to use
 this class outside of Turbine for general processing that is also
 possible by making sure to set the path to the
 TurbineResources.properties.  See the
 TurbineResourceService.setPropertiesFileName() method for more
 information.

 <p>This class is basically a conversion of the WebMacroHtmlEmail
 written by Regis Koenig

 <p>You can turn on debugging for the JavaMail API by calling
 setDebug(true).  The debugging messages will be written to System.out.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Id: VelocityHtmlEmail.java 659576 2008-05-23 16:00:15Z seade $</DD>
<DT><B>Author:</B></DT>
  <DD><a href="mailto:epugh@upstate.com">Eric Pugh</a>, <a href="mailto:A.Schild@aarboard.ch">Andre Schild</a>, <a href="mailto:quintonm@bellsouth.net">Quinton McCombs</a>, <a href="mailto:hps@intermeta.de">Henning P. Schmiedehausen</a></DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.commons.mail.HtmlEmail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.apache.commons.mail.HtmlEmail</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>CID_LENGTH, html, inlineImages, text</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.commons.mail.Email"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.apache.commons.mail.Email</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>ATTACHMENTS, authenticator, bccList, bounceAddress, ccList, charset, content, CONTENT_TYPE, contentType, debug, EMAIL_BODY, EMAIL_SUBJECT, emailBody, FILE_SERVER, fromAddress, headers, hostName, ISO_8859_1, KOI8_R, MAIL_DEBUG, MAIL_HOST, MAIL_PORT, MAIL_SMTP_AUTH, MAIL_SMTP_FROM, MAIL_TRANSPORT_PROTOCOL, message, popBeforeSmtp, popHost, popPassword, popUsername, RECEIVER_EMAIL, RECEIVER_NAME, replyList, SENDER_EMAIL, SENDER_NAME, sentDate, SMTP, smtpPort, subject, TEXT_HTML, TEXT_PLAIN, toList, US_ASCII</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#VelocityHtmlEmail(org.apache.velocity.context.Context)">VelocityHtmlEmail</A></B>(org.apache.velocity.context.Context&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor, sets the context object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#VelocityHtmlEmail(org.apache.turbine.util.RunData)">VelocityHtmlEmail</A></B>(<A HREF="../../../../../org/apache/turbine/util/RunData.html" title="interface in org.apache.turbine.util">RunData</A>&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor, sets the context object from the passed RunData object</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#embed(java.lang.String, java.lang.String)">embed</A></B>(java.lang.String&nbsp;surl,
      java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Embed a file in the mail.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#getCid(java.lang.String)">getCid</A></B>(java.lang.String&nbsp;filename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the cid of an embedded file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#getMailServer()">getMailServer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the host name of the outgoing mail server.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#send()">send</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Actually send the mail.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html" title="class in org.apache.turbine.util.velocity">VelocityHtmlEmail</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#setHtmlTemplate(java.lang.String)">setHtmlTemplate</A></B>(java.lang.String&nbsp;template)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the HTML template for the mail.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#setMailServer(java.lang.String)">setMailServer</A></B>(java.lang.String&nbsp;serverAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the address of the outgoing mail server.  </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html" title="class in org.apache.turbine.util.velocity">VelocityHtmlEmail</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#setTextTemplate(java.lang.String)">setTextTemplate</A></B>(java.lang.String&nbsp;template)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the text template for the mail.  </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.commons.mail.HtmlEmail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.commons.mail.HtmlEmail</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>buildMimeMessage, embed, setHtmlMsg, setMsg, setTextMsg</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.commons.mail.MultiPartEmail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.commons.mail.MultiPartEmail</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>addPart, addPart, addPart, attach, attach, attach, attach, attach, createBodyPart, createMimeMultipart, getContainer, getPrimaryBodyPart, getSubType, init, isBoolHasAttachments, isInitialized, setBoolHasAttachments, setInitialized, setSubType</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.commons.mail.Email"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.commons.mail.Email</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>addBcc, addBcc, addCc, addCc, addHeader, addReplyTo, addReplyTo, addTo, addTo, getFromAddress, getHostName, getMailSession, getMimeMessage, getSentDate, getSmtpPort, getSubject, sendMimeMessage, setAuthentication, setAuthenticator, setBcc, setBounceAddress, setCc, setCharset, setContent, setContent, setDebug, setFrom, setFrom, setHeaders, setHostName, setMailSession, setPopBeforeSmtp, setSentDate, setSmtpPort, setSubject, setTo, toInternetAddressArray</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="VelocityHtmlEmail(org.apache.turbine.util.RunData)"><!-- --></A><H3>
VelocityHtmlEmail</H3>
<PRE>
public <B>VelocityHtmlEmail</B>(<A HREF="../../../../../org/apache/turbine/util/RunData.html" title="interface in org.apache.turbine.util">RunData</A>&nbsp;data)</PRE>
<DL>
<DD>Constructor, sets the context object from the passed RunData object
<P>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - A Turbine RunData object.</DL>
<HR>

<A NAME="VelocityHtmlEmail(org.apache.velocity.context.Context)"><!-- --></A><H3>
VelocityHtmlEmail</H3>
<PRE>
public <B>VelocityHtmlEmail</B>(org.apache.velocity.context.Context&nbsp;context)</PRE>
<DL>
<DD>Constructor, sets the context object.
<P>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - A Velocity context object.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="setHtmlTemplate(java.lang.String)"><!-- --></A><H3>
setHtmlTemplate</H3>
<PRE>
public <A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html" title="class in org.apache.turbine.util.velocity">VelocityHtmlEmail</A> <B>setHtmlTemplate</B>(java.lang.String&nbsp;template)</PRE>
<DL>
<DD>Set the HTML template for the mail.  This is the Velocity
 template to execute for the HTML part.  Path is relative to the
 VM templates directory.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>template</CODE> - A String.
<DT><B>Returns:</B><DD>A VelocityHtmlEmail (self).</DL>
</DD>
</DL>
<HR>

<A NAME="setTextTemplate(java.lang.String)"><!-- --></A><H3>
setTextTemplate</H3>
<PRE>
public <A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html" title="class in org.apache.turbine.util.velocity">VelocityHtmlEmail</A> <B>setTextTemplate</B>(java.lang.String&nbsp;template)</PRE>
<DL>
<DD>Set the text template for the mail.  This is the Velocity
 template to execute for the text part.  Path is relative to the
 VM templates directory
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>template</CODE> - A String.
<DT><B>Returns:</B><DD>A VelocityHtmlEmail (self).</DL>
</DD>
</DL>
<HR>

<A NAME="setMailServer(java.lang.String)"><!-- --></A><H3>
setMailServer</H3>
<PRE>
public void <B>setMailServer</B>(java.lang.String&nbsp;serverAddress)</PRE>
<DL>
<DD>Sets the address of the outgoing mail server.  This method
 should be used when you need to override the value stored in
 TR.props.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>serverAddress</CODE> - host name of your outgoing mail server</DL>
</DD>
</DL>
<HR>

<A NAME="getMailServer()"><!-- --></A><H3>
getMailServer</H3>
<PRE>
public java.lang.String <B>getMailServer</B>()</PRE>
<DL>
<DD>Gets the host name of the outgoing mail server.  If the server
 name has not been set by calling setMailServer(), the value
 from TR.props for mail.server will be returned.  If TR.props
 has no value for mail.server, localhost will be returned.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>host name of the mail server.</DL>
</DD>
</DL>
<HR>

<A NAME="send()"><!-- --></A><H3>
send</H3>
<PRE>
public java.lang.String <B>send</B>()
                      throws org.apache.commons.mail.EmailException</PRE>
<DL>
<DD>Actually send the mail.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>org.apache.commons.mail.EmailException</CODE> - thrown if mail cannot be sent.</DL>
</DD>
</DL>
<HR>

<A NAME="embed(java.lang.String, java.lang.String)"><!-- --></A><H3>
embed</H3>
<PRE>
public java.lang.String <B>embed</B>(java.lang.String&nbsp;surl,
                              java.lang.String&nbsp;name)
                       throws org.apache.commons.mail.EmailException</PRE>
<DL>
<DD>Embed a file in the mail.  The file can be referenced through
 its Content-ID.  This function also registers the CID in an
 internal map, so the embedded file can be referenced more than
 once by using the getCid() function.  This may be useful in a
 template.

 <p>Example of template:

 <code><pre width="80">
 &lt;html&gt;
 &lt;!-- $mail.embed("http://server/border.gif","border.gif"); --&gt;
 &lt;img src=$mail.getCid("border.gif")&gt;
 &lt;p&gt;This is your content
 &lt;img src=$mail.getCid("border.gif")&gt;
 &lt;/html&gt;
 </pre></code>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>surl</CODE> - A String.<DD><CODE>name</CODE> - A String.
<DT><B>Returns:</B><DD>A String with the cid of the embedded file.
<DT><B>Throws:</B>
<DD><CODE>org.apache.commons.mail.EmailException</CODE><DT><B>See Also:</B><DD><CODE>embed.</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCid(java.lang.String)"><!-- --></A><H3>
getCid</H3>
<PRE>
public java.lang.String <B>getCid</B>(java.lang.String&nbsp;filename)</PRE>
<DL>
<DD>Get the cid of an embedded file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filename</CODE> - A String.
<DT><B>Returns:</B><DD>A String with the cid of the embedded file.<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/turbine/util/velocity/VelocityHtmlEmail.html#embed(java.lang.String, java.lang.String)"><CODE>embed.</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/VelocityHtmlEmail.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/turbine/util/velocity/VelocityEmail.html" title="class in org.apache.turbine.util.velocity"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="VelocityHtmlEmail.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.apache.commons.mail.HtmlEmail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2000-2008 Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
