<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from xdocs/services/security-service.xml at 24 October 2022
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Apache Turbine &#x2013; Turbine Services - Security Service</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.9.min.js"></script>
<link rel="icon" type="image/png" sizes="48x48" href="./images/favicon.ico"> 
      <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon.ico"> 
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/apache/turbine-core">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../" id="bannerLeft" title="Apache Turbine"><img src="../images/turbine-project-apache-separate.png"  alt="Apache Turbine"/></a></div>
          <div class="pull-right"><div id="bannerRight"><img src="../images/logo.gif"  alt=""/></div>
</div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 24 October 2022<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 5.2-SNAPSHOT</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://turbine.apache.org/fulcrum/" class="externalLink" title="Fulcrum">Fulcrum</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://turbine.apache.org/" class="externalLink" title="Turbine">Turbine</a></li>
      <li class="pull-right"><a href="https://www.apache.org" class="externalLink" title="Apache">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">General Information</li>
    <li><a href="../index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="../features.html" title="Features"><span class="none"></span>Features</a></li>
    <li><a href="../fsd.html" title="Specification"><span class="none"></span>Specification</a></li>
    <li><a href="../getting-started.html" title="Getting Started"><span class="none"></span>Getting Started</a></li>
    <li><a href="../how-to-build.html" title="Howto Build Turbine"><span class="none"></span>Howto Build Turbine</a></li>
    <li><a href="../changes-report.html" title="Changes"><span class="none"></span>Changes</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../services/index.html" title="Services"><span class="icon-chevron-down"></span>Services</a>
     <ul class="nav nav-list">
      <li><a href="../services/assemblerbroker-service.html" title="Assembler Broker Service"><span class="none"></span>Assembler Broker Service</a></li>
      <li><a href="../services/avalon-component-service.html" title="Avalon Component Service"><span class="none"></span>Avalon Component Service</a></li>
      <li><a href="../../fulcrum/fulcrum-crypto/" title="Crypto Service"><span class="none"></span>Crypto Service</a></li>
      <li><a href="../../fulcrum/fulcrum-cache/" title="Cache Service"><span class="none"></span>Cache Service</a></li>
      <li><a href="../../fulcrum/fulcrum-factory/" title="Factory Service"><span class="none"></span>Factory Service</a></li>
      <li><a href="../../fulcrum/fulcrum-intake/" title="Intake Service"><span class="none"></span>Intake Service</a></li>
      <li><a href="../services/jsonrpc-service.html" title="JSON-RPC Service"><span class="none"></span>JSON-RPC Service</a></li>
      <li><a href="../../fulcrum/fulcrum-json/" title="JSON Service"><span class="none"></span>JSON Service</a></li>
      <li><a href="../services/jsp-service.html" title="JSP Service"><span class="none"></span>JSP Service</a></li>
      <li><a href="../../fulcrum/fulcrum-localization/" title="Localization Service"><span class="none"></span>Localization Service</a></li>
      <li><a href="../../fulcrum/fulcrum-mimetype/" title="MimeType Service"><span class="none"></span>MimeType Service</a></li>
      <li><a href="../services/naming-service.html" title="Naming Service"><span class="none"></span>Naming Service</a></li>
      <li><a href="../../fulcrum/fulcrum-parser/" title="Parser Service"><span class="none"></span>Parser Service</a></li>
      <li><a href="../../fulcrum/fulcrum-pool/" title="Pool Service"><span class="none"></span>Pool Service</a></li>
      <li><a href="../services/pull-service.html" title="Pull Service"><span class="none"></span>Pull Service</a></li>
      <li><a href="../services/rundata-service.html" title="RunData Service"><span class="none"></span>RunData Service</a></li>
      <li><a href="../services/scheduler-service.html" title="Scheduler Service"><span class="none"></span>Scheduler Service</a></li>
      <li class="active"><a href="#"><span class="none"></span>Security Service</a></li>
      <li><a href="../services/servlet-service.html" title="Servlet Service"><span class="none"></span>Servlet Service</a></li>
      <li><a href="../services/session-service.html" title="Session Service"><span class="none"></span>Session Service</a></li>
      <li><a href="../services/template-service.html" title="Template Service"><span class="none"></span>Template Service</a></li>
      <li><a href="../services/ui-service.html" title="UI Service"><span class="none"></span>UI Service</a></li>
      <li><a href="../services/uniqueid-service.html" title="Unique ID Service"><span class="none"></span>Unique ID Service</a></li>
      <li><a href="../services/urlmapper-service.html" title="URL Mapper Service"><span class="none"></span>URL Mapper Service</a></li>
      <li><a href="../../fulcrum/fulcrum-upload/" title="Upload Service"><span class="none"></span>Upload Service</a></li>
      <li><a href="../services/velocity-service.html" title="Velocity Service"><span class="none"></span>Velocity Service</a></li>
      <li><a href="../../fulcrum/fulcrum-xmlrpc/" title="XML-RPC Service"><span class="none"></span>XML-RPC Service</a></li>
      <li><a href="../../fulcrum/fulcrum-xslt/" title="XSLT Service"><span class="none"></span>XSLT Service</a></li>
     </ul></li>
    <li><a href="../howto/index.html" title="Howtos"><span class="icon-chevron-right"></span>Howtos</a></li>
    <li><a href="https://cwiki.apache.org/confluence/display/TURBINE" class="externalLink" title="Wiki"><span class="none"></span>Wiki</a></li>
    <li><a href="../apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
   <li class="nav-header">Development</li>
    <li><a href="../proposals.html" title="Proposals"><span class="none"></span>Proposals</a></li>
    <li><a href="../how-to-help.html" title="How To Help"><span class="none"></span>How To Help</a></li>
    <li><a href="../todo.html" title="Todo"><span class="none"></span>Todo</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Apache</li>
    <li><a href="https://www.apache.org/" class="externalLink" title="Apache Website"><span class="none"></span>Apache Website</a></li>
    <li><a href="https://www.apache.org/licenses/" class="externalLink" title="License"><span class="none"></span>License</a></li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works"><span class="none"></span>How the ASF works</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship"><span class="none"></span>Sponsorship</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
    <li><a href="https://www.apache.org/security/" class="externalLink" title="Security"><span class="none"></span>Security</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="http://turbine.apache.org/turbine-core" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script>asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


 

<section>
<h2><a name="Security_Service"></a>Security Service</h2>


<p>
The Security Service is for authenticating users and assigning them roles
and permissions in groups.
</p>

<p>
Turbine uses the <a href="/fulcrum//fulcrum-security-api/index.html">Fulcrum Security API</a>
to provide security features to applications. In the Fulcrum repository,
implementations exist for
<a href="/fulcrum/fulcrum-security-hibernate/index.html">Hibernate</a>,
<a href="/fulcrum/fulcrum-security-torque/index.html">Torque</a>
and <a href="/fulcrum/fulcrum-security-nt/index.html">NTLM</a>.
</p>
</section>

<section>
<h2><a name="Configuration"></a>Configuration</h2>


<div class="source"><pre class="prettyprint">
# -------------------------------------------------------------------
#
#  S E R V I C E S
#
# -------------------------------------------------------------------
# Classes for Turbine Services should be defined here.
# Format: services.[name].classname=[implementing class]
#
# To specify properties of a service use the following syntax:
# service.[name].[property]=[value]

#
# Here you specify, which Security Service is used. This example
# uses the Fulcrum Security Service. There is no default.

services.SecurityService.classname=org.apache.turbine.services.security.DefaultSecurityService
.
.
.

# -------------------------------------------------------------------
#
#  S E C U R I T Y  S E R V I C E
#
# -------------------------------------------------------------------

#
# This is the class that implements the UserManager interface to
# manage User objects. Default is the PassiveUserManager.
#
# Override this setting if you want your User information stored
# on a different medium (LDAP directory is a good example).
#
# Adjust this setting if you change the Setting of the SecurityService class (see above).

# Default: org.apache.turbine.services.security.passive.PassiveUserManager
services.SecurityService.user.manager = org.apache.turbine.services.security.DefaultUserManager

# Default: org.apache.turbine.om.security.DefaultUserImpl
#services.SecurityService.wrapper.class =

</pre></div>

</section>

<section>
<h2><a name="User_Manager"></a>User Manager</h2>


<p>
To access user specific data and information, each Security Service
must provide an UserManager class. It is service specific and must be
configured in TurbineResource.properties with the
<i>service.SecurityService.user.manager</i> property. The UserManager
allows access to various properties of an Turbine User object, can
change password, authenticate users to the Security service and
manages the Turbine user objects.

If you have have additional columns in the User (e.g. TurbineUser) table, you get them handled properly (persisting and reading) this way:

- create a non default wrapper.class. This class should extend DefaultUserImpl and override or add the required properties.

- best practice would be to provide an interface to communicate on same standards between this wrapper.class and the backend ORM-class (e.g generated TurbineTorqueUser class). Otherwise you could use your ORM class.

 The ORM class is e.g. fetched from the default implementation of the Fulcrum User Manager (org.apache.fulcrum.security.UserManager) (as configured in componentConfiguration.xml userManager-&gt;className) and the Turbine User Manager gets it by fetching it first from the Fulcrum User Manager (= umDelegate) and then setting this class as userDelegate in the wrapper class.

</p>

</section>

<section>
<h2><a name="Using_Fulcrum_Security"></a>Using Fulcrum Security</h2>

<p>
The actual implementations for the different Fulcrum services that
define the behavior of the security service are configured in the
files <code>roleConfiguration.xml</code> and
<code>componentConfiguration.xml</code>. All of them can be extended
and/or modified to meet your requirements. The following example shows
the sections for the
<a href="/fulcrum/fulcrum-security-torque/index.html">Torque</a>
implementation, using the Turbine security model.

<section>
<h3><a name="Dependencies"></a>Dependencies</h3>
Turbine 4.0 does not depend on a particular Fulcrum Security
implementation. To use the Torque-flavor, you need to specify
the dependency explicitly in your POM:
</p>
<div class="source"><pre class="prettyprint">
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.fulcrum&lt;/groupId&gt;
  &lt;artifactId&gt;fulcrum-security-torque&lt;/artifactId&gt;
  &lt;version&gt;1.1.0&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
</section>
<section>
<h3><a name="roleConfiguration.xml"></a>roleConfiguration.xml</h3>

<div class="source"><pre class="prettyprint">
&lt;role
    name=&quot;org.apache.torque.avalon.Torque&quot;
    shorthand=&quot;torqueService&quot;
    default-class=&quot;org.apache.torque.avalon.TorqueComponent&quot;
    early-init=&quot;true&quot; /&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.SecurityService&quot;
    shorthand=&quot;securityService&quot;
    default-class=&quot;org.apache.fulcrum.security.BaseSecurityService&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.UserManager&quot;
    shorthand=&quot;userManager&quot;
    early-init=&quot;true&quot;
    default-class=&quot;org.apache.fulcrum.security.torque.turbine.TorqueTurbineUserManagerImpl&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.GroupManager&quot;
    shorthand=&quot;groupManager&quot;
    default-class=&quot;org.apache.fulcrum.security.torque.turbine.TorqueTurbineGroupManagerImpl&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.RoleManager&quot;
    shorthand=&quot;roleManager&quot;
    default-class=&quot;org.apache.fulcrum.security.torque.turbine.TorqueTurbineRoleManagerImpl&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.PermissionManager&quot;
    shorthand=&quot;permissionManager&quot;
    default-class=&quot;org.apache.fulcrum.security.torque.turbine.TorqueTurbinePermissionManagerImpl&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.ModelManager&quot;
    shorthand=&quot;modelManager&quot;
    default-class=&quot;org.apache.fulcrum.security.torque.turbine.TorqueTurbineModelManagerImpl&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.authenticator.Authenticator&quot;
    shorthand=&quot;authenticator&quot;
    default-class=&quot;org.apache.fulcrum.security.authenticator.TextMatchAuthenticator&quot;/&gt;
&lt;role
    name=&quot;org.apache.fulcrum.security.model.ACLFactory&quot;
    shorthand=&quot;aclFactory&quot;
    default-class=&quot;org.apache.fulcrum.security.model.turbine.TurbineACLFactory&quot;/&gt;
</pre></div>
</section>

<section>
<h3><a name="componentConfiguration.xml"></a>componentConfiguration.xml</h3>

<div class="source"><pre class="prettyprint">
&lt;securityService/&gt;
&lt;authenticator/&gt;
&lt;modelManager/&gt;
&lt;aclFactory/&gt;

&lt;userManager&gt;
    &lt;className&gt;org.apache.fulcrum.security.torque.om.TorqueTurbineUser&lt;/className&gt;
&lt;/userManager&gt;
&lt;groupManager&gt;
    &lt;className&gt;org.apache.fulcrum.security.torque.om.TorqueTurbineGroup&lt;/className&gt;
&lt;/groupManager&gt;
&lt;roleManager&gt;
    &lt;className&gt;org.apache.fulcrum.security.torque.om.TorqueTurbineRole&lt;/className&gt;
&lt;/roleManager&gt;
&lt;permissionManager&gt;
    &lt;className&gt;org.apache.fulcrum.security.torque.om.TorqueTurbinePermission&lt;/className&gt;
&lt;/permissionManager&gt;

&lt;torqueService&gt;
    &lt;configfile&gt;WEB-INF/conf/Torque.properties&lt;/configfile&gt;
&lt;/torqueService&gt;
</pre></div>
</section>

</section>


        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2000&#x2013;2022
<a href="https://www.apache.org/">The Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
